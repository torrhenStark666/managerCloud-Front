<div class="content-container">
  <div class="container-fluid">
    <h1 *ngIf="isAddMode">Adicionar: Produto</h1>
    <h1 *ngIf="!isAddMode">Atualizar: Produto</h1>
    <div class="card shadow">
      <div class="card-body">
        <form [formGroup]="form" (ngSubmit)="onSubmit()">
          <h4><b>Dados do produto:</b></h4>
          <hr />
          <div class="row align-items-center">
            <div class="form-group col">
              <label>Nome do produto (Descrição)</label>
              <input
                type="text"
                formControlName="descricao"
                class="form-control"
                [ngClass]="{ 'is-invalid': submitted && f.descricao.errors }"
              />
              <div
                *ngIf="submitted && f.descricao.errors"
                class="invalid-feedback"
              >
                <div *ngIf="f.descricao.errors.required">
                  Nome do Produto é um campo obrigatório.
                </div>
              </div>
            </div>
          </div>
          <div class="row align-items-center">
            <div class="form-group col-6">
              <label>Código de barras</label>
              <input
                type="text"
                formControlName="codigoBarras"
                class="form-control"
                [ngClass]="{ 'is-invalid': submitted && f.codigoBarras.errors }"
              />
              <div
                *ngIf="submitted && f.codigoBarras.errors"
                class="invalid-feedback"
              >
                <div *ngIf="f.codigoBarras.errors.required">
                  Código de Barras é um campo obrigatório.
                </div>
              </div>
            </div>
            <div class="form-group col-6">
              <label>Código de barras forn.</label>
              <input
                type="text"
                formControlName="codigoBarrasFornecedor"
                class="form-control"
                [ngClass]="{
                  'is-invalid': submitted && f.codigoBarrasFornecedor.errors
                }"
              />
              <div
                *ngIf="submitted && f.codigoBarrasFornecedor.errors"
                class="invalid-feedback"
              >
                <div *ngIf="f.codigoBarrasFornecedor.errors.required">
                  Código de Barras Forn. é um campo obrigatório.
                </div>
              </div>
            </div>
          </div>
          <div class="row align-items-center">
            <div class="form-group col-2">
              <label for="mask">Calculo do valor</label>
              <ng-select
                #calculoValorSelect
                [items]="list5"
                [selectOnTab]="true"
                notFoundText="Nenhuma informação encontrada"
                bindValue="value"
                bindLabel="mask"
                labelForId="mask"
                placeholder="Selecione"
                formControlName="calculoValor"
                [ngClass]="{
                  'is-invalid': submitted && f.calculoValor.errors
                }"
              >
              </ng-select>
              <div
                *ngIf="submitted && f.calculoValor.errors"
                class="invalid-feedback"
              >
                <div *ngIf="f.calculoValor.errors.required">
                  Calculo do valor é um campo obrigatório.
                </div>
              </div>
            </div>
            <div class="form-group col-2">
              <label>1ª Unidade de Medida</label>
              <input
                type="text"
                formControlName="unidadeMedida"
                class="form-control"
                [ngClass]="{
                  'is-invalid': submitted && f.unidadeMedida.errors
                }"
              />
              <div
                *ngIf="submitted && f.unidadeMedida.errors"
                class="invalid-feedback"
              >
                <div *ngIf="f.unidadeMedida.errors.required">
                  1ª Unidade de Medida é um campo obrigatório.
                </div>
              </div>
            </div>
            <div class="form-group col-2">
              <label>2ª Unidade de Medida</label>
              <input
                type="text"
                formControlName="unidadeMedidaTwo"
                class="form-control"
                [ngClass]="{
                  'is-invalid': submitted && f.unidadeMedidaTwo.errors
                }"
              />
              <div
                *ngIf="submitted && f.unidadeMedidaTwo.errors"
                class="invalid-feedback"
              >
                <div *ngIf="f.unidadeMedidaTwo.errors.required">
                  Telefone é um campo obrigatório.
                </div>
              </div>
            </div>
            <div class="form-group col-3">
              <label for="conversor">Conversor de Medidas</label>
              <ng-select
                #calculoValorSelect
                [items]="list6"
                [selectOnTab]="true"
                notFoundText="Nenhuma informação encontrada"
                labelForId="conversor"
                placeholder="Selecione"
                formControlName="conversoAbudade"
                [ngClass]="{
                  'is-invalid': submitted && f.conversoAbudade.errors
                }"
              >
              </ng-select>
              <div
                *ngIf="submitted && f.conversoAbudade.errors"
                class="invalid-feedback"
              >
                <div *ngIf="f.conversoAbudade.errors.required">
                  Conversor de Medidas é um campo obrigatório.
                </div>
              </div>
            </div>
            <div class="form-group col-3">
              <label>Fator Conversor</label>
              <input
                type="text"
                formControlName="fatorConversor"
                class="form-control"
                [ngClass]="{
                  'is-invalid': submitted && f.fatorConversor.errors
                }"
              />
              <div
                *ngIf="submitted && f.fatorConversor.errors"
                class="invalid-feedback"
              >
                <div *ngIf="f.fatorConversor.errors.required">
                  Fator Conversor é um campo obrigatório.
                </div>
              </div>
            </div>
          </div>
          <div class="row align-items-center">
            <div class="form-group col-4">
              <label>Peso</label>
              <input
                type="number"
                formControlName="peso"
                class="form-control"
                [ngClass]="{
                  'is-invalid': submitted && f.peso.errors
                }"
              />
              <div *ngIf="submitted && f.peso.errors" class="invalid-feedback">
                <div *ngIf="f.peso.errors.required">
                  Peso é um campo obrigatório.
                </div>
              </div>
            </div>
            <div class="form-group col-4">
              <label>Altura</label>
              <input
                type="number"
                formControlName="altura"
                class="form-control"
                [ngClass]="{
                  'is-invalid': submitted && f.altura.errors
                }"
              />
              <div
                *ngIf="submitted && f.altura.errors"
                class="invalid-feedback"
              >
                <div *ngIf="f.altura.errors.required">
                  Altura é um campo obrigatório.
                </div>
              </div>
            </div>
            <div class="form-group col-4">
              <label>Largura</label>
              <input
                type="number"
                formControlName="largura"
                class="form-control"
                [ngClass]="{
                  'is-invalid': submitted && f.largura.errors
                }"
              />
              <div
                *ngIf="submitted && f.largura.errors"
                class="invalid-feedback"
              >
                <div *ngIf="f.largura.errors.required">
                  Largura é um campo obrigatório.
                </div>
              </div>
            </div>
          </div>
          <br />
          <h4><b>Categoria:</b></h4>
          <hr />
          <div class="row align-items-center">
            <div class="form-group col-6">
              <label for="tipos">Tipo de Produto</label>
              <ng-select
                #tipoProdutoSelect
                [items]="list1"
                [selectOnTab]="true"
                notFoundText="Nenhuma informação encontrada"
                bindLabel="descricao"
                labelForId="tipos"
                placeholder="Selecione"
                formControlName="tipoProduto"
                [ngClass]="{
                  'is-invalid': submitted && f.tipoProduto.errors
                }"
              >
              </ng-select>
              <div
                *ngIf="submitted && f.tipoProduto.errors"
                class="invalid-feedback"
              >
                <div *ngIf="f.tipoProduto.errors.required">
                  Tipo de Produto é um campo obrigatório.
                </div>
              </div>
            </div>
            <div class="form-group col-6">
              <label for="grupos">Grupo de Produto</label>
              <ng-select
                [items]="list2"
                [selectOnTab]="true"
                notFoundText="Nenhuma informação encontrada"
                bindLabel="descricao"
                labelForId="grupos"
                placeholder="Selecione"
                formControlName="grupoProduto"
                [ngClass]="{
                  'is-invalid': submitted && f.grupoProduto.errors
                }"
              >
              </ng-select>
              <div
                *ngIf="submitted && f.grupoProduto.errors"
                class="invalid-feedback"
              >
                <div *ngIf="f.grupoProduto.errors.required">
                  Grupo de Produto é um campo obrigatório.
                </div>
              </div>
            </div>
          </div>
          <div class="row align-items-center">
            <div class="form-group col-6">
              <label for="cores">Cores de Produto</label>
              <ng-select
                [items]="list4"
                [selectOnTab]="true"
                [multiple]="true"
                [closeOnSelect]="false"
                notFoundText="Nenhuma informação encontrada"
                bindLabel="descricao"
                labelForId="cores"
                placeholder="Selecione"
                formControlName="cores"
                [ngClass]="{
                  'is-invalid': submitted && f.cores.errors
                }"
              >
              </ng-select>
              <div *ngIf="submitted && f.cores.errors" class="invalid-feedback">
                <div *ngIf="f.cores.errors.required">
                  Cores de Produto é um campo obrigatório.
                </div>
              </div>
            </div>
            <div class="form-group col-6">
              <label for="fornecedores">Fornecedores</label>
              <ng-select
                [items]="list3"
                [selectOnTab]="true"
                [multiple]="true"
                [closeOnSelect]="false"
                notFoundText="Nenhuma informação encontrada"
                bindLabel="nomeFantasia"
                labelForId="fornecedores"
                placeholder="Selecione"
                formControlName="fornecedores"
                [ngClass]="{
                  'is-invalid': submitted && f.cores.errors
                }"
              >
              </ng-select>
              <div *ngIf="submitted && f.cores.errors" class="invalid-feedback">
                <div *ngIf="f.cores.errors.required">
                  Cores de Produto é um campo obrigatório.
                </div>
              </div>
            </div>
          </div>
          <br />
          <hr />
          <div class="form-group py-3">
            <button [disabled]="loading" class="btn btn-primary">
              <span
                *ngIf="loading"
                class="spinner-border spinner-border-sm mr-1"
              ></span>
              Save</button
            >&nbsp;
            <a
              routerLink="/Compras/Fornecedores"
              class="btn btn-outline-primary"
              >Cancel</a
            >
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
