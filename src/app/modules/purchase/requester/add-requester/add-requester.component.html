<div class="content-container">
  <div class="container-fluid">
    <h1 *ngIf="isAddMode">Adicionar: Solicitante</h1>
    <h1 *ngIf="!isAddMode">Atualizar: Solicitante</h1>
    <div class="card shadow">
      <div class="card-body">
        <form [formGroup]="form" (ngSubmit)="onSubmit()">
          <div class="row align-items-center">
            <div class="form-group col-3">
              <label>Data inicial</label>
              <input
                type="date"
                formControlName="dataInicio"
                class="form-control"
                [ngClass]="{ 'is-invalid': submitted && f.dataInicio.errors }"
              />
              <div
                *ngIf="submitted && f.dataInicio.errors"
                class="invalid-feedback"
              >
                <div *ngIf="f.dataInicio.errors.required">
                  Data inicial é um campo obrigatório.
                </div>
              </div>
            </div>
            <div class="form-group col-3">
              <label>Data final</label>
              <input
                type="date"
                formControlName="dataFim"
                class="form-control"
                [ngClass]="{ 'is-invalid': submitted && f.dataFim.errors }"
              />
              <div
                *ngIf="submitted && f.dataFim.errors"
                class="invalid-feedback"
              >
                <div *ngIf="f.dataFim.errors.required">
                  Data final é um campo obrigatório.
                </div>
              </div>
            </div>
            <div class="form-group col-3">
              <label>Nível</label>
              <input
                type="number"
                formControlName="nivel"
                class="form-control"
                [ngClass]="{ 'is-invalid': submitted && f.nivel.errors }"
              />
              <div *ngIf="submitted && f.nivel.errors" class="invalid-feedback">
                <div *ngIf="f.nivel.errors.required">
                  Nível é um campo obrigatório.
                </div>
              </div>
            </div>
            <div class="form-group col-3">
              <div class="form-check form-switch py-3">
                <br />
                <label class="form-check-label" for="tipoAtivo"
                  >Vai estar ativo para uso geral?</label
                >
                <input
                  id="tipoAtivo"
                  formControlName="ativo"
                  class="form-check-input"
                  type="checkbox"
                  [ngClass]="{ 'is-invalid': submitted && f.ativo.errors }"
                />
              </div>
            </div>
          </div>
          <div class="row align-items-center">
            <div class="form-group col-4">
              <label>Limite Inicial</label>
              <input
                type="number"
                formControlName="limiteInicial"
                class="form-control"
                [ngClass]="{
                  'is-invalid': submitted && f.limiteInicial.errors
                }"
              />
              <div
                *ngIf="submitted && f.limiteInicial.errors"
                class="invalid-feedback"
              >
                <div *ngIf="f.limiteInicial.errors.required">
                  Limite Inicial é um campo obrigatório.
                </div>
              </div>
            </div>
            <div class="form-group col-4">
              <label>Limite final</label>
              <input
                type="number"
                formControlName="limiteFinal"
                class="form-control"
                [ngClass]="{ 'is-invalid': submitted && f.limiteFinal.errors }"
              />
              <div
                *ngIf="submitted && f.limiteFinal.errors"
                class="invalid-feedback"
              >
                <div *ngIf="f.limiteFinal.errors.required">
                  Limite final é um campo obrigatório.
                </div>
              </div>
            </div>
            <div class="form-group col-4">
              <label>Valor Disponível</label>
              <input
                type="number"
                formControlName="valorDisponivel"
                class="form-control"
                [ngClass]="{
                  'is-invalid': submitted && f.valorDisponivel.errors
                }"
              />
              <div
                *ngIf="submitted && f.valorDisponivel.errors"
                class="invalid-feedback"
              >
                <div *ngIf="f.valorDisponivel.errors.required">
                  Valor Disponível é um campo obrigatório.
                </div>
              </div>
            </div>
          </div>
          <div class="row align-items-center">
            <div class="form-group col-6">
              <label for="grupos">Grupo de Produto</label>
              <ng-select
                [items]="list1"
                [selectOnTab]="true"
                notFoundText="Nenhuma informação encontrada"
                bindLabel="descricao"
                labelForId="grupos"
                placeholder="Selecione"
                formControlName="grupoProduto"
                [ngClass]="{
                  'is-invalid': submitted && f.grupoProduto.errors
                }"
              >
              </ng-select>
              <div
                *ngIf="submitted && f.grupoProduto.errors"
                class="invalid-feedback"
              >
                <div *ngIf="f.grupoProduto.errors.required">
                  Grupo de Produto é um campo obrigatório.
                </div>
              </div>
            </div>
            <div class="form-group col-6">
              <label for="usuarios">Usuario</label>
              <ng-select
                [items]="list2"
                [selectOnTab]="true"
                notFoundText="Nenhuma informação encontrada"
                bindLabel="login"
                labelForId="usuarios"
                placeholder="Selecione"
                formControlName="login"
                [ngClass]="{
                  'is-invalid': submitted && f.login.errors
                }"
              >
              </ng-select>
              <div
                *ngIf="submitted && f.login.errors"
                class="invalid-feedback"
              >
                <div *ngIf="f.login.errors.required">
                  Usuário é um campo obrigatório.
                </div>
              </div>
            </div>
          </div>
          <div class="form-group py-3">
            <button [disabled]="loading" class="btn btn-primary">
              <span
                *ngIf="loading"
                class="spinner-border spinner-border-sm mr-1"
              ></span>
              Save</button
            >&nbsp;
            <a routerLink="../" class="btn btn-outline-primary">Cancel</a>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
